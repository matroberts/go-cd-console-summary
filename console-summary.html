<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <title>Console Summary</title>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js'></script>
    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css' />
    <style>
    </style>
    <script type="text/javascript">
    $(document).ready(function () {
        var url = "./cruise-output/console.log";
        $('h6').append("Scanning <a href='" + url + "' target='_blank'>" + url + "</a> for errors and warnings.....");
        $.ajax({
            url: url,
            type: "GET",
            dataType: "text"
        })
        .done(function (txt) {
            var errorRegex = /^.*: error.*$/gm;
            var error;
            while (error = errorRegex.exec(txt)) {
                $('.errors').append("<p class='bg-danger'>" + error + "</p>");
            }

            var warningRegex = /^.*:.*warning.*$/gm;
            var warning;
            while (warning = warningRegex.exec(txt)) {
                $('.warnings').append("<p class='bg-warning'>" + warning + "</p>");
            }

        })
        .fail(function (xhr, ajaxOptions, thrownError) {
            alert(xhr.status);
            alert(thrownError);
        });
    });

    </script>
</head>
<body>
    <h6></h6>
    <div class="errors">
    </div>
    <div class="warnings">
    </div>
</body>
</html>